# 1.核心概念

一般我们在提到分库分表的时候，大多是以水平切分模式（水平分库、分表）为基础来说的,根据业务的垂直拆分库不适合使用数据库中间件
​ 分库分表包括分库和分表两个部分，在生产中通常包括：垂直分库、水平分库、垂直分表、水平分表四种方式。可以组合使用。
# 2.垂直分库
垂直分库是指按照业务将表进行分类，分布到不同的数据库上面，每个库可以放在不同的服务器上，它的核心理念是专库专用。

它带来的提升是：

解决业务层面的耦合，业务清晰
能对不同业务的数据进行分级管理、维护、监控、扩展等
高并发场景下，垂直分库一定程度的提升IO、数据库连接数、降低单机硬件资源的瓶颈
​垂直分库通过将表按业务分类，然后分布在不同数据库，并且可以将这些数据库部署在不同服务器上，从而达到多个服务器共同分摊压力的效果，但是依然没有解决单表数据量过大的问题。
# 3.垂直分表
垂直分表定义：将一个表按照字段分成多表，每个表存储其中一部分字段。

它带来的提升是：

1.为了避免IO争抢并减少锁表的几率，查看详情的用户与商品信息浏览互不影响

2.充分发挥热门数据的操作效率，商品信息的操作的高效率不会被商品描述的低效率所拖累。

通常我们按以下原则进行垂直拆分:

 - 把不常用的字段单独放在一张表;
 - 把text，blob等大字段拆分出来放在附表中;
 - 经常组合查询的列放在一张表中;

库内垂直分表只解决了单一表数据量过大的问题，但没有将表分布到不同的服务器上，因此每个表还是竞争同一个物理机的CPU、内存、网络IO、磁盘。

# 4.水平分库
​ 水平分库是把同一个表的数据按一定规则拆到不同的数据库中，每个库可以放在不同的服务器上。

它带来的提升是：

 - 解决了单库大数据，高并发的性能瓶颈。
 - 提高了系统的稳定性及可用性。
 - 系统复杂性大大提高（分布式事务的问题，可用性的问题）

# 5.水平分表
 水平分表是在同一个数据库内，把同一个表的数据按一定规则拆到多个表中。
它带来的提升是：

 - 优化单一表数据量过大而产生的性能问题
 - 避免IO争抢并减少锁表的几率
 - 单表数据量大大减小，检索效率大大提高

[参考](https://segmentfault.com/a/1190000038225441)